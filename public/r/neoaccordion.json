{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "neoaccordion",
  "type": "registry:ui",
  "title": "NeoAccordion",
  "description": "Neo-brutalist accordion component with collapsible sections.",
  "dependencies": [
    "@radix-ui/react-accordion",
    "class-variance-authority",
    "lucide-react"
  ],
  "registryDependencies": ["utils"],
  "cssVars": {
    "theme": {
      "--animate-accordion-down": "accordion-down 0.2s ease-out",
      "--animate-accordion-up": "accordion-up 0.2s ease-out"
    }
  },
  "css": {
    "@keyframes accordion-down": {
      "from": "height: 0;",
      "to": "height: var(--radix-accordion-content-height);"
    },
    "@keyframes accordion-up": {
      "from": "height: var(--radix-accordion-content-height);",
      "to": "height: 0;"
    }
  },
  "files": [
    {
      "path": "components/ui/NeoAccordion.tsx",
      "type": "registry:ui",
      "content": "import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst baseStyle = \"border-2 border-black\"\nconst brutalShadow = \"shadow-[4px_4px_0_#000]\"\n\nconst accordionVariants = cva(\"w-full\", {\n  variants: {\n    variant: {\n      brutal: \"\",\n      outline: \"\",\n    },\n  },\n  defaultVariants: {\n    variant: \"brutal\",\n  },\n})\n\nconst accordionItemVariants = cva(\n  \"overflow-hidden transition-all\",\n  {\n    variants: {\n      variant: {\n        brutal: `bg-[var(--primary)] ${baseStyle} ${brutalShadow} first:rounded-t-lg last:rounded-b-lg [&:not(:last-child)]:border-b-0`,\n        outline: `bg-white ${baseStyle} [&:not(:last-child)]:border-b-0`,\n      },\n    },\n    defaultVariants: {\n      variant: \"brutal\",\n    },\n  }\n)\n\nconst accordionTriggerVariants = cva(\n  \"flex flex-1 items-center justify-between py-4 px-5 text-left font-semibold transition-all [&[data-state=open]>svg]:rotate-180\",\n  {\n    variants: {\n      variant: {\n        brutal: \"hover:bg-black/5 text-black\",\n        outline: \"hover:bg-black/5 text-black\",\n      },\n    },\n    defaultVariants: {\n      variant: \"brutal\",\n    },\n  }\n)\n\nconst accordionContentVariants = cva(\n  \"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\",\n  {\n    variants: {\n      variant: {\n        brutal: \"bg-white/50 border-t-2 border-black\",\n        outline: \"bg-gray-50 border-t-2 border-black\",\n      },\n    },\n    defaultVariants: {\n      variant: \"brutal\",\n    },\n  }\n)\n\nconst AccordionContext = React.createContext<{\n  anyOpen: boolean\n  isItemOpen: (value?: string) => boolean\n} | null>(null)\n\ntype AccordionVariant = \"brutal\" | \"outline\"\n\ntype NeoAccordionProps = React.ComponentProps<typeof AccordionPrimitive.Root> &\n  VariantProps<typeof accordionVariants>\n\nfunction NeoAccordion({\n  className,\n  variant = \"brutal\",\n  ...props\n}: NeoAccordionProps) {\n  const { type } = props as any\n  const controlledValue = (props as any).value as string | string[] | undefined\n  const defaultValue = (props as any).defaultValue as string | string[] | undefined\n  const userOnValueChange = (props as any).onValueChange as ((v: string | string[] | undefined) => void) | undefined\n\n  const [value, setValue] = React.useState<string | string[] | undefined>(\n    controlledValue ?? defaultValue ?? undefined\n  )\n\n  React.useEffect(() => {\n    if (controlledValue !== undefined) setValue(controlledValue)\n  }, [controlledValue])\n\n  const handleValueChange = (val: string | string[] | undefined) => {\n    setValue(val)\n    userOnValueChange?.(val)\n  }\n\n  const anyOpen = type === \"multiple\" ? Array.isArray(value) && value.length > 0 : !!value\n\n  const isItemOpen = (itemValue?: string) => {\n    if (type === \"multiple\") {\n      return Array.isArray(value) && !!itemValue && (value as string[]).includes(itemValue)\n    }\n\n    return !!(itemValue && value === itemValue)\n  }\n\n  const isMultiple = type === \"multiple\"\n  const currentValue = controlledValue ?? value\n\n  const { value: _v, onValueChange: _onValueChange, defaultValue: _dv, ...rest } = props as any\n\n  if (isMultiple) {\n    const multipleValue = Array.isArray(currentValue) ? (currentValue as string[]) : undefined\n    const onMultipleChange = (v: string[] | undefined) => handleValueChange(v)\n\n    return (\n      <AccordionPrimitive.Root\n        data-slot=\"accordion\"\n        data-variant={variant}\n        className={cn(accordionVariants({ variant, className }))}\n        type=\"multiple\"\n        value={multipleValue}\n        onValueChange={onMultipleChange as any}\n        {...rest}\n      >\n        <AccordionContext.Provider value={{ anyOpen, isItemOpen }}>\n          {props.children}\n        </AccordionContext.Provider>\n      </AccordionPrimitive.Root>\n    )\n  }\n\n  const singleValue = typeof currentValue === \"string\" ? (currentValue as string) : undefined\n  const onSingleChange = (v: string | undefined) => handleValueChange(v)\n\n  return (\n    <AccordionPrimitive.Root\n      data-slot=\"accordion\"\n      data-variant={variant}\n      className={cn(accordionVariants({ variant, className }))}\n      type=\"single\"\n      value={singleValue}\n      onValueChange={onSingleChange as any}\n      {...rest}\n    >\n      <AccordionContext.Provider value={{ anyOpen, isItemOpen }}>\n        {props.children}\n      </AccordionContext.Provider>\n    </AccordionPrimitive.Root>\n  )\n}\n\ntype NeoAccordionItemProps = React.ComponentProps<typeof AccordionPrimitive.Item> & {\n  variant?: AccordionVariant\n  value?: string\n  dimmed?: boolean\n}\n\nfunction NeoAccordionItem({ className, variant = \"brutal\", dimmed, value, ...props }: NeoAccordionItemProps) {\n  const ctx = React.useContext(AccordionContext)\n\n  const computedDimmed =\n    typeof dimmed === \"boolean\" ? dimmed : !!(ctx && ctx.anyOpen && !ctx.isItemOpen(value))\n\n  return (\n    <AccordionPrimitive.Item\n      data-slot=\"accordion-item\"\n      data-dimmed={computedDimmed ? \"true\" : undefined}\n      value={value}\n      className={cn(\n        accordionItemVariants({ variant, className }),\n        computedDimmed ? \" [&_button]:px-5 [&_button]:py-0.5\" : \"\"\n      )}\n      {...props}\n    />\n  )\n}\n\ntype NeoAccordionTriggerProps = React.ComponentProps<typeof AccordionPrimitive.Trigger> & {\n  variant?: AccordionVariant\n}\n\nfunction NeoAccordionTrigger({\n  className,\n  children,\n  variant = \"brutal\",\n  ...props\n}: NeoAccordionTriggerProps) {\n  return (\n    <AccordionPrimitive.Header className=\"flex\">\n      <AccordionPrimitive.Trigger\n        data-slot=\"accordion-trigger\"\n        className={cn(accordionTriggerVariants({ variant, className }))}\n        {...props}\n      >\n        {children}\n        <ChevronDown className=\"size-5 shrink-0 transition-transform duration-200\" />\n      </AccordionPrimitive.Trigger>\n    </AccordionPrimitive.Header>\n  )\n}\n\ntype NeoAccordionContentProps = React.ComponentProps<typeof AccordionPrimitive.Content> & {\n  variant?: AccordionVariant\n}\n\nfunction NeoAccordionContent({\n  className,\n  children,\n  variant = \"brutal\",\n  ...props\n}: NeoAccordionContentProps) {\n  return (\n    <AccordionPrimitive.Content\n      data-slot=\"accordion-content\"\n      className={cn(accordionContentVariants({ variant, className }))}\n      {...props}\n    >\n      <div className=\"px-5 py-4\">{children}</div>\n    </AccordionPrimitive.Content>\n  )\n}\n\nexport {\n  NeoAccordion,\n  NeoAccordionItem,\n  NeoAccordionTrigger,\n  NeoAccordionContent,\n}\n\nexport type {\n  NeoAccordionProps,\n  NeoAccordionItemProps,\n  NeoAccordionTriggerProps,\n  NeoAccordionContentProps,\n}\n\nexport const variantOptions = [\n  { variant: \"brutal\", label: \"Brutal\" },\n  { variant: \"outline\", label: \"Outline\" },\n] as const\n\nexport const behaviorOptions = [\n  { type: \"single\", label: \"Single open\", collapsible: true },\n  { type: \"multiple\", label: \"Multiple open\" },\n  { type: \"single\", label: \"Non-Collapsible\", collapsible: false, defaultValue: \"item-1\" },\n  { type: \"single\", label: \"Default Open\", collapsible: true, defaultValue: \"item-1\" },\n] as const"
    }
  ]
}